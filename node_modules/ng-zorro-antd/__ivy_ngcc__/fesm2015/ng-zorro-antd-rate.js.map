{"version":3,"file":"ng-zorro-antd-rate.js","sources":["ng:/ng-zorro-antd/rate/nz-rate.component.ts","ng:/ng-zorro-antd/rate/nz-rate-item.component.ts","ng:/ng-zorro-antd/rate/nz-rate.module.ts"],"names":["tslib_1.__decorate"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { LEFT_ARROW, RIGHT_ARROW } from '@angular/cdk/keycodes';\nimport {\n  forwardRef,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { InputBoolean, NgClassType, NzConfigService, WithConfig } from 'ng-zorro-antd/core';\n\nconst NZ_CONFIG_COMPONENT_NAME = 'rate';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  selector: 'nz-rate',\n  exportAs: 'nzRate',\n  preserveWhitespaces: false,\n  templateUrl: './nz-rate.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NzRateComponent),\n      multi: true\n    }\n  ]\n})\nexport class NzRateComponent implements OnInit, OnDestroy, ControlValueAccessor, AfterViewInit, OnChanges {\n  @ViewChild('ulElement', { static: false }) private ulElement: ElementRef;\n\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME, true) @InputBoolean() nzAllowClear: boolean;\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME, false) @InputBoolean() nzAllowHalf: boolean;\n  @Input() @InputBoolean() nzDisabled: boolean = false;\n  @Input() @InputBoolean() nzAutoFocus: boolean = false;\n  @Input() nzCharacter: TemplateRef<void>;\n  @Input() nzTooltips: string[] = [];\n  @Output() readonly nzOnBlur = new EventEmitter<FocusEvent>();\n  @Output() readonly nzOnFocus = new EventEmitter<FocusEvent>();\n  @Output() readonly nzOnHoverChange = new EventEmitter<number>();\n  @Output() readonly nzOnKeyDown = new EventEmitter<KeyboardEvent>();\n\n  classMap: NgClassType;\n  hasHalf = false;\n  hoverValue = 0;\n  prefixCls = 'ant-rate';\n  innerPrefixCls = `${this.prefixCls}-star`;\n  isFocused = false;\n  isInit = false;\n  starArray: number[] = [];\n\n  private destroy$ = new Subject<void>();\n  private _count = 5;\n  private _value = 0;\n\n  @Input()\n  set nzCount(value: number) {\n    if (this._count === value) {\n      return;\n    }\n    this._count = value;\n    this.updateStarArray();\n  }\n\n  get nzCount(): number {\n    return this._count;\n  }\n\n  get nzValue(): number {\n    return this._value;\n  }\n\n  set nzValue(input: number) {\n    if (this._value === input) {\n      return;\n    }\n\n    this._value = input;\n    this.hasHalf = !Number.isInteger(input);\n    this.hoverValue = Math.ceil(input);\n  }\n\n  constructor(public nzConfigService: NzConfigService, private renderer: Renderer2, private cdr: ChangeDetectorRef) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.nzAutoFocus && !changes.nzAutoFocus.isFirstChange()) {\n      if (this.nzAutoFocus && !this.nzDisabled) {\n        this.renderer.setAttribute(this.ulElement.nativeElement, 'autofocus', 'autofocus');\n      } else {\n        this.renderer.removeAttribute(this.ulElement.nativeElement, 'autofocus');\n      }\n    }\n  }\n\n  ngOnInit(): void {\n    this.updateStarArray();\n\n    this.nzConfigService\n      .getConfigChangeEventForComponent(NZ_CONFIG_COMPONENT_NAME)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => this.cdr.markForCheck());\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngAfterViewInit(): void {\n    this.isInit = true;\n  }\n\n  onItemClick(index: number, isHalf: boolean): void {\n    if (this.nzDisabled) {\n      return;\n    }\n\n    this.hoverValue = index + 1;\n\n    const actualValue = isHalf ? index + 0.5 : index + 1;\n\n    if (this.nzValue === actualValue) {\n      if (this.nzAllowClear) {\n        this.nzValue = 0;\n        this.onChange(this.nzValue);\n      }\n    } else {\n      this.nzValue = actualValue;\n      this.onChange(this.nzValue);\n    }\n  }\n\n  onItemHover(index: number, isHalf: boolean): void {\n    if (this.nzDisabled || (this.hoverValue === index + 1 && isHalf === this.hasHalf)) {\n      return;\n    }\n\n    this.hoverValue = index + 1;\n    this.hasHalf = isHalf;\n    this.nzOnHoverChange.emit(this.hoverValue);\n  }\n\n  onRateLeave(): void {\n    this.hasHalf = !Number.isInteger(this.nzValue);\n    this.hoverValue = Math.ceil(this.nzValue);\n  }\n\n  onFocus(e: FocusEvent): void {\n    this.isFocused = true;\n    this.nzOnFocus.emit(e);\n  }\n\n  onBlur(e: FocusEvent): void {\n    this.isFocused = false;\n    this.nzOnBlur.emit(e);\n  }\n\n  focus(): void {\n    this.ulElement.nativeElement.focus();\n  }\n\n  blur(): void {\n    this.ulElement.nativeElement.blur();\n  }\n\n  onKeyDown(e: KeyboardEvent): void {\n    const oldVal = this.nzValue;\n\n    if (e.keyCode === RIGHT_ARROW && this.nzValue < this.nzCount) {\n      this.nzValue += this.nzAllowHalf ? 0.5 : 1;\n    } else if (e.keyCode === LEFT_ARROW && this.nzValue > 0) {\n      this.nzValue -= this.nzAllowHalf ? 0.5 : 1;\n    }\n\n    if (oldVal !== this.nzValue) {\n      this.onChange(this.nzValue);\n      this.nzOnKeyDown.emit(e);\n      this.cdr.markForCheck();\n    }\n  }\n\n  setClasses(i: number): object {\n    return {\n      [`${this.innerPrefixCls}-full`]: i + 1 < this.hoverValue || (!this.hasHalf && i + 1 === this.hoverValue),\n      [`${this.innerPrefixCls}-half`]: this.hasHalf && i + 1 === this.hoverValue,\n      [`${this.innerPrefixCls}-active`]: this.hasHalf && i + 1 === this.hoverValue,\n      [`${this.innerPrefixCls}-zero`]: i + 1 > this.hoverValue,\n      [`${this.innerPrefixCls}-focused`]: this.hasHalf && i + 1 === this.hoverValue && this.isFocused\n    };\n  }\n\n  private updateStarArray(): void {\n    this.starArray = Array(this.nzCount)\n      .fill(0)\n      .map((_, i) => i);\n  }\n\n  // #region Implement `ControlValueAccessor`\n\n  writeValue(value: number | null): void {\n    this.nzValue = value || 0;\n    this.cdr.markForCheck();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.nzDisabled = isDisabled;\n  }\n\n  registerOnChange(fn: (_: number) => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  onChange: (value: number) => void = () => null;\n  onTouched: () => void = () => null;\n\n  // #endregion\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { InputBoolean } from 'ng-zorro-antd/core';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  selector: '[nz-rate-item]',\n  exportAs: 'nzRateItem',\n  templateUrl: './nz-rate-item.component.html'\n})\nexport class NzRateItemComponent {\n  @Input() character: TemplateRef<void>;\n  @Input() @InputBoolean() allowHalf: boolean = false;\n  @Output() readonly itemHover = new EventEmitter<boolean>();\n  @Output() readonly itemClick = new EventEmitter<boolean>();\n\n  hoverRate(isHalf: boolean): void {\n    this.itemHover.next(isHalf && this.allowHalf);\n  }\n\n  clickRate(isHalf: boolean): void {\n    this.itemClick.next(isHalf && this.allowHalf);\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n\nimport { NzRateItemComponent } from './nz-rate-item.component';\nimport { NzRateComponent } from './nz-rate.component';\n\n@NgModule({\n  exports: [NzRateComponent],\n  declarations: [NzRateComponent, NzRateItemComponent],\n  imports: [CommonModule, NzIconModule, NzToolTipModule]\n})\nexport class NzRateModule {}\n"]}