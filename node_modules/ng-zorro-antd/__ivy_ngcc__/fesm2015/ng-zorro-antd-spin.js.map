{"version":3,"file":"ng-zorro-antd-spin.js","sources":["ng:/ng-zorro-antd/spin/nz-spin.component.ts","ng:/ng-zorro-antd/spin/nz-spin.module.ts"],"names":["tslib_1.__decorate"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { BehaviorSubject, Observable, Subject, Subscription } from 'rxjs';\nimport { debounceTime, takeUntil } from 'rxjs/operators';\n\nimport { InputBoolean, InputNumber, NzConfigService, NzSizeLDSType, WithConfig } from 'ng-zorro-antd/core';\n\nconst NZ_CONFIG_COMPONENT_NAME = 'spin';\n\n@Component({\n  selector: 'nz-spin',\n  exportAs: 'nzSpin',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './nz-spin.component.html',\n  host: {\n    '[class.ant-spin-nested-loading]': '!nzSimple'\n  },\n  styles: [\n    `\n      nz-spin {\n        display: block;\n      }\n    `\n  ]\n})\nexport class NzSpinComponent implements OnChanges, OnDestroy, OnInit {\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME) nzIndicator: TemplateRef<void>;\n  @Input() nzSize: NzSizeLDSType = 'default';\n  @Input() nzTip: string;\n  @Input() @InputNumber() nzDelay = 0;\n  @Input() @InputBoolean() nzSimple = false;\n  @Input() @InputBoolean() nzSpinning = true;\n  loading = true;\n  private destroy$ = new Subject<void>();\n  private spinning$ = new BehaviorSubject(this.nzSpinning);\n  private loading$: Observable<boolean> = this.spinning$.pipe(debounceTime(this.nzDelay));\n  private loading_: Subscription | null;\n\n  subscribeLoading(): void {\n    this.unsubscribeLoading();\n    this.loading_ = this.loading$.subscribe(data => {\n      this.loading = data;\n      this.cdr.markForCheck();\n    });\n  }\n\n  unsubscribeLoading(): void {\n    if (this.loading_) {\n      this.loading_.unsubscribe();\n      this.loading_ = null;\n    }\n  }\n\n  constructor(public nzConfigService: NzConfigService, private cdr: ChangeDetectorRef) {}\n\n  ngOnInit(): void {\n    this.subscribeLoading();\n\n    this.nzConfigService\n      .getConfigChangeEventForComponent(NZ_CONFIG_COMPONENT_NAME)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => this.cdr.markForCheck());\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.nzSpinning) {\n      if (changes.nzSpinning.isFirstChange()) {\n        this.loading = this.nzSpinning;\n      }\n      this.spinning$.next(this.nzSpinning);\n    }\n    if (changes.nzDelay) {\n      this.loading$ = this.spinning$.pipe(debounceTime(this.nzDelay));\n      this.subscribeLoading();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n    this.unsubscribeLoading();\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzSpinComponent } from './nz-spin.component';\n\n@NgModule({\n  exports: [NzSpinComponent],\n  declarations: [NzSpinComponent],\n  imports: [CommonModule, ObserversModule]\n})\nexport class NzSpinModule {}\n"]}