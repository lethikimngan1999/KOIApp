{"version":3,"file":"ng-zorro-antd-badge.js","sources":["ng:/ng-zorro-antd/badge/nz-badge.component.ts","ng:/ng-zorro-antd/badge/nz-badge.module.ts"],"names":["tslib_1.__decorate"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ContentObserver } from '@angular/cdk/observers';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { isEmpty, zoomBadgeMotion, InputBoolean, NzConfigService, WithConfig } from 'ng-zorro-antd/core';\nimport { Subject } from 'rxjs';\nimport { startWith, take, takeUntil } from 'rxjs/operators';\n\nexport type NzBadgeStatusType = 'success' | 'processing' | 'default' | 'error' | 'warning';\n\nconst NZ_CONFIG_COMPONENT_NAME = 'backTop';\n\n@Component({\n  selector: 'nz-badge',\n  exportAs: 'nzBadge',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [zoomBadgeMotion],\n  templateUrl: './nz-badge.component.html',\n  host: {\n    '[class.ant-badge-status]': 'nzStatus'\n  }\n})\nexport class NzBadgeComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  private destroy$ = new Subject();\n  notWrapper = true;\n  viewInit = false;\n  maxNumberArray: string[] = [];\n  countArray: number[] = [];\n  countSingleArray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n  colorArray = [\n    'pink',\n    'red',\n    'yellow',\n    'orange',\n    'cyan',\n    'green',\n    'blue',\n    'purple',\n    'geekblue',\n    'magenta',\n    'volcano',\n    'gold',\n    'lime'\n  ];\n  presetColor: string | null = null;\n  count: number;\n  @ViewChild('contentElement', { static: false }) contentElement: ElementRef;\n  @Input() @InputBoolean() nzShowZero: boolean = false;\n  @Input() @InputBoolean() nzShowDot = true;\n  @Input() @InputBoolean() nzDot = false;\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME, 99) nzOverflowCount: number;\n  @Input() nzText: string;\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME) nzColor: string;\n  @Input() nzTitle: string;\n  @Input() nzStyle: { [key: string]: string };\n  @Input() nzStatus: NzBadgeStatusType;\n  @Input() nzCount: number | TemplateRef<void>;\n  @Input() nzOffset: [number, number];\n\n  checkContent(): void {\n    this.notWrapper = isEmpty(this.contentElement.nativeElement);\n    if (this.notWrapper) {\n      this.renderer.addClass(this.elementRef.nativeElement, 'ant-badge-not-a-wrapper');\n    } else {\n      this.renderer.removeClass(this.elementRef.nativeElement, 'ant-badge-not-a-wrapper');\n    }\n  }\n\n  get showSup(): boolean {\n    return (this.nzShowDot && this.nzDot) || this.count > 0 || (this.count === 0 && this.nzShowZero);\n  }\n\n  generateMaxNumberArray(): void {\n    this.maxNumberArray = this.nzOverflowCount.toString().split('');\n  }\n\n  constructor(\n    public nzConfigService: NzConfigService,\n    private renderer: Renderer2,\n    private elementRef: ElementRef,\n    private contentObserver: ContentObserver,\n    private cdr: ChangeDetectorRef,\n    private ngZone: NgZone\n  ) {\n    renderer.addClass(elementRef.nativeElement, 'ant-badge');\n  }\n\n  ngOnInit(): void {\n    this.generateMaxNumberArray();\n  }\n\n  ngAfterViewInit(): void {\n    this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n      this.viewInit = true;\n      this.cdr.markForCheck();\n    });\n\n    this.contentObserver\n      .observe(this.contentElement)\n      .pipe(\n        startWith(true),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(() => {\n        this.checkContent();\n      });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzOverflowCount, nzCount, nzColor } = changes;\n    if (nzCount && !(nzCount.currentValue instanceof TemplateRef)) {\n      this.count = Math.max(0, nzCount.currentValue);\n      this.countArray = this.count\n        .toString()\n        .split('')\n        .map(item => +item);\n    }\n    if (nzOverflowCount) {\n      this.generateMaxNumberArray();\n    }\n    if (nzColor) {\n      this.presetColor = this.colorArray.indexOf(this.nzColor) !== -1 ? this.nzColor : null;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\n\nimport { NzBadgeComponent } from './nz-badge.component';\n\n@NgModule({\n  declarations: [NzBadgeComponent],\n  exports: [NzBadgeComponent],\n  imports: [CommonModule, ObserversModule, NzAddOnModule]\n})\nexport class NzBadgeModule {}\n"]}